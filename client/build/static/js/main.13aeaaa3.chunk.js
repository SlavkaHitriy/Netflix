(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,r){e.exports={login:"Login_login__2G2N6",loginTitle:"Login_loginTitle__GJAh-",loginForgot:"Login_loginForgot__1wlZ4"}},20:function(e,t,r){e.exports={forgot:"ForgotPass_forgot__33DDO",forgotForm:"ForgotPass_forgotForm__1B1ZE",forgotTitle:"ForgotPass_forgotTitle__2ROKe",forgotText:"ForgotPass_forgotText__29ZlT"}},24:function(e,t,r){e.exports={errorMessage:"Home_errorMessage__dlhUY",toLogin:"Home_toLogin__1XftS"}},25:function(e,t,r){e.exports={register:"Register_register__3m_Na",registerTitle:"Register_registerTitle__1HBkb",registerText:"Register_registerText__3TFB9"}},26:function(e,t,r){e.exports={reset:"ResetPass_reset__YKreN",resetForm:"ResetPass_resetForm__31aJU",resetTitle:"ResetPass_resetTitle__3OY_R"}},27:function(e,t,r){},3:function(e,t,r){e.exports={form:"Auth_form__18pOJ",text:"Auth_text__2n17-",formGroup:"Auth_formGroup__1yQKi",btn:"Auth_btn__1glWx",errorMessage:"Auth_errorMessage__6U3OE",successMessage:"Auth_successMessage__2yrUQ"}},34:function(e,t,r){e.exports={footer:"Footer_footer__EKHnB"}},50:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(17),c=r.n(s),o=(r(27),r(15)),i=r(36),u=r(5),l=r(8),j=r(29),d=function(e,t){document.cookie="".concat(e,"=;max-age=-1"),document.cookie="".concat(e,"=").concat(t,";max-age=604800;path=/")},h=function(e){document.cookie="".concat(e,"=;max-age=-1;path=/"),console.log("Deleted cookie",e)},b=function(e){var t=document.cookie.split(";");if(0===t.length)return null;var r,a=Object(j.a)(t);try{for(a.s();!(r=a.n()).done;){var n=r.value.split("="),s=n[0],c=n[1];if(s&&(s=s.trim()),c&&(c=c.trim()),s===e)return c}}catch(o){a.e(o)}finally{a.f()}},m=r(30),p=r(31),O=r(2),f=new(function(){function e(){Object(m.a)(this,e),this.isAuth=!1,Object(O.l)(this)}return Object(p.a)(e,[{key:"setIsAuth",value:function(e){this.isAuth=e}}]),e}()),x=r(35),g=r(4),v=r(9),_=r.n(v),N=r.p+"static/media/user.13ae57b0.jpg",w=r(0),T=function(e){var t=Object(a.useState)(!1),r=Object(g.a)(t,2),n=r[0],s=r[1],c=b("userName");return Object(w.jsxs)("div",{className:_.a.headerUser,children:[Object(w.jsx)(l.b,{className:_.a.headerUserPhoto,to:"/",children:Object(w.jsx)("img",{src:N,alt:"avatar"})}),Object(w.jsxs)("div",{className:"".concat(_.a.headerUserName," ").concat(n&&_.a.headerUserNameActive),onClick:function(){return s(!n)},children:[c?c.length>15?c.slice(0,15)+"...":c:"Hidden user @_@",Object(w.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"451.847px",height:"451.847px",viewBox:"0 0 451.847 451.847",children:Object(w.jsx)("path",{d:"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\r c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\r c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"})})]}),Object(w.jsx)("div",{className:"".concat(_.a.headerUserActions," ").concat(n&&_.a.headerUserActionsActive),children:Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{className:_.a.headerUserItem,children:Object(w.jsx)(l.b,{to:"/",children:"Profile"})}),Object(w.jsx)("li",{className:_.a.headerUserItem,children:Object(w.jsx)("button",{onClick:e.logout,children:"Logout"})})]})})]})},k=r.p+"static/media/logo.5787551b.svg",y=Object(x.a)((function(e){var t=Object(u.g)();return Object(w.jsx)("header",{className:_.a.header,children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:_.a.headerInner,children:[f.isAuth?Object(w.jsx)(l.b,{className:_.a.headerLink,to:"/",children:Object(w.jsx)("img",{className:_.a.headerLogo,src:k,alt:"logo"})}):Object(w.jsx)("img",{className:_.a.headerLogo,src:k,alt:"logo"}),f.isAuth&&Object(w.jsx)(T,{logout:function(){h("authToken"),f.setIsAuth(!1),t.push("/login")}})]})})})})),S=r(34),A=r.n(S),C=function(e){return Object(w.jsx)("footer",{className:A.a.footer,children:Object(w.jsx)("div",{className:"container",children:"SlavkaHitriy\xa9"})})},F=r(6),U=r.n(F),P=r(11),L=function(){var e=Object(a.useState)(!1),t=Object(g.a)(e,2),r=t[0],n=t[1];return{loading:r,request:Object(a.useCallback)(function(){var e=Object(P.a)(U.a.mark((function e(t){var r,a,s,c,i,u,l=arguments;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",a=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{},n(!0),e.prev=4,e.next=7,fetch("http://46.253.143.22"+t,{method:r,body:a,headers:Object(o.a)({Authorization:"Bearer ".concat(b("authToken"))},s)});case 7:return c=e.sent,e.next=10,c.json();case 10:if(i=e.sent,c.ok){e.next=15;break}return u="\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a",i.success||(u=i.error),e.abrupt("return",{error:u});case 15:return n(!1),e.abrupt("return",i);case 19:throw e.prev=19,e.t0=e.catch(4),n(!1),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}(),[])}},I=r(24),E=r.n(I),H=function(e){var t=L().request,r=Object(u.g)(),n=Object(a.useState)(""),s=Object(g.a)(n,2),c=s[0],o=s[1],i=Object(a.useState)(!1),j=Object(g.a)(i,2),d=j[0],m=j[1],p=function(){var e=Object(P.a)(U.a.mark((function e(){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/private","GET",null,{"Content-Type":"application/json",Authorization:"Bearer ".concat(b("authToken"))});case 2:r=e.sent,console.log("Data",r),r.error?(h("authToken"),o("You are not authorized. Please ")):m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b("authToken")||r.push("/login"),p()}),[]),Object(a.useEffect)(Object(P.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=5;break}return e.next=3,fetch("https://api.tvmaze.com/shows/");case 3:t=e.sent,console.log("Fetched data",t);case 5:case"end":return e.stop()}}),e)}))),[d]),c?Object(w.jsxs)("span",{className:E.a.errorMessage,children:[c," ",Object(w.jsx)(l.b,{className:E.a.toLogin,to:"/login",children:"login"})]}):Object(w.jsx)(w.Fragment,{})},q=function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("main",{className:"main",children:Object(w.jsx)(H,{})})})},G=r(19),M=r.n(G),D=r(3),R=r.n(D),B=function(e){var t=L().request,r=Object(u.g)(),n=Object(a.useState)(""),s=Object(g.a)(n,2),c=s[0],o=s[1],i=Object(a.useState)(""),j=Object(g.a)(i,2),h=j[0],m=j[1],p=Object(a.useState)(""),O=Object(g.a)(p,2),x=O[0],v=O[1];Object(a.useEffect)((function(){b("authToken")&&r.push("/")}),[]);var _=function(){var e=Object(P.a)(U.a.mark((function e(a){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t("/auth/login","POST",JSON.stringify({email:c,password:h}),{"Content-Type":"application/json"});case 3:n=e.sent,console.log("Data",n),n.error?(v(n.error),setTimeout((function(){v("")}),4e3)):(d("authToken",n.token),d("userName",n.username),f.setIsAuth(!0),r.push("/"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:M.a.login,children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("form",{onSubmit:_,className:R.a.form,children:[Object(w.jsx)("h3",{className:M.a.loginTitle,children:"Login"}),x&&Object(w.jsx)("span",{className:R.a.errorMessage,children:x}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Enter email",value:c,onChange:function(e){return o(e.target.value)},tabIndex:1})}),Object(w.jsxs)("div",{className:R.a.formGroup,children:[Object(w.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter password",value:h,onChange:function(e){return m(e.target.value)},tabIndex:2}),Object(w.jsx)(l.b,{to:"/forgot-password",className:M.a.loginForgot,tabIndex:4,children:"Forgot Password?"})]}),Object(w.jsx)("button",{type:"submit",className:R.a.btn,tabIndex:3,children:"Login"}),Object(w.jsxs)("div",{className:R.a.text,children:[Object(w.jsx)("span",{children:"Don't have an account?"}),Object(w.jsx)(l.b,{to:"/register",children:"Register"})]})]})})})},J=function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("main",{className:"main auth",children:Object(w.jsx)(B,{})})})},K=r(25),Y=r.n(K),z=function(e){var t=L().request,r=Object(u.g)(),n=Object(a.useState)(""),s=Object(g.a)(n,2),c=s[0],o=s[1],i=Object(a.useState)(""),j=Object(g.a)(i,2),h=j[0],m=j[1],p=Object(a.useState)(""),O=Object(g.a)(p,2),x=O[0],v=O[1],_=Object(a.useState)(""),N=Object(g.a)(_,2),T=N[0],k=N[1],y=Object(a.useState)(""),S=Object(g.a)(y,2),A=S[0],C=S[1];Object(a.useEffect)((function(){b("authToken")&&r.push("/")}),[]);var F=function(){var e=Object(P.a)(U.a.mark((function e(a){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),x===T){e.next=7;break}return v(""),k(""),setTimeout((function(){C("")}),4e3),C("Passwords don't match"),e.abrupt("return");case 7:return e.next=9,t("/auth/register","POST",JSON.stringify({username:c,email:h,password:x}),{"Content-Type":"application/json"});case 9:n=e.sent,console.log("Data",n),n.error?(C(n.error),setTimeout((function(){C("")}),4e3)):(d("authToken",n.token),d("userName",n.username),f.setIsAuth(!0),r.push("/"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:Y.a.register,children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("form",{onSubmit:F,className:R.a.form,children:[Object(w.jsx)("h3",{className:Y.a.registerTitle,children:"Register"}),A&&Object(w.jsx)("span",{className:R.a.errorMessage,children:A}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"text",required:!0,id:"name",placeholder:"Enter username",value:c,onChange:function(e){return o(e.target.value)}})}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Enter email",value:h,onChange:function(e){return m(e.target.value)}})}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter password",value:x,onChange:function(e){return v(e.target.value)}})}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"password",required:!0,id:"confirmPassword",placeholder:"Confirm password",value:T,onChange:function(e){return k(e.target.value)}})}),Object(w.jsx)("button",{type:"submit",className:R.a.btn,children:"Register"}),Object(w.jsxs)("div",{className:R.a.text,children:[Object(w.jsx)("span",{children:"Already have an account?"}),Object(w.jsx)(l.b,{to:"/login",children:"Login"})]})]})})})},X=function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("main",{className:"main auth",children:Object(w.jsx)(z,{})})})},Q=r(20),W=r.n(Q),Z=function(e){var t=L().request,r=Object(a.useState)(""),n=Object(g.a)(r,2),s=n[0],c=n[1],o=Object(a.useState)(""),i=Object(g.a)(o,2),u=i[0],l=i[1],j=Object(a.useState)(""),d=Object(g.a)(j,2),h=d[0],b=d[1],m=function(){var e=Object(P.a)(U.a.mark((function e(r){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t("/auth/forgot-password","POST",JSON.stringify({email:s}),{"Content-Type":"application/json"});case 3:a=e.sent,console.log("Data",a),a.error?(l(a.error),c(""),setTimeout((function(){l("")}),4e3)):(b(a.data),setTimeout((function(){b("")}),4e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:W.a.forgot,children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("form",{onSubmit:m,className:R.a.form,children:[Object(w.jsx)("h3",{className:W.a.forgotTitle,children:"Forgot Password"}),u&&Object(w.jsx)("span",{className:R.a.errorMessage,children:u}),h&&Object(w.jsx)("span",{className:R.a.successMessage,children:h}),Object(w.jsxs)("div",{className:R.a.formGroup,children:[Object(w.jsx)("p",{className:W.a.forgotText,children:"Please enter the email address you register your account with. We will send you reset password confirmation to this email"}),Object(w.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(w.jsx)("button",{type:"submit",className:R.a.btn,children:"Send Email"})]})})})},V=function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("main",{className:"main auth",children:Object(w.jsx)(Z,{})})})},$=r(26),ee=r.n($),te=function(e){var t=e.resetToken,r=L().request,n=Object(a.useState)(""),s=Object(g.a)(n,2),c=s[0],o=s[1],i=Object(a.useState)(""),u=Object(g.a)(i,2),j=u[0],d=u[1],h=Object(a.useState)(""),b=Object(g.a)(h,2),m=b[0],p=b[1],O=Object(a.useState)(""),f=Object(g.a)(O,2),x=f[0],v=f[1],_=function(){var e=Object(P.a)(U.a.mark((function e(a){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),c===j){e.next=6;break}return o(""),d(""),setTimeout((function(){p("")}),5e3),e.abrupt("return",p("Passwords don't match"));case 6:return e.next=8,r("/auth/reset-password/".concat(t),"PUT",JSON.stringify({password:c}),{"Content-Type":"application/json"});case 8:n=e.sent,console.log("Data",n),n.error?(p(n.error),setTimeout((function(){p("")}),4e3)):v(n.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:ee.a.reset,children:Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("form",{onSubmit:_,className:R.a.form,children:[Object(w.jsx)("h3",{className:ee.a.resetTitle,children:"Reset Password"}),m&&Object(w.jsxs)("span",{className:R.a.errorMessage,children:[m," "]}),x&&Object(w.jsxs)("span",{className:R.a.successMessage,children:[x,Object(w.jsx)(l.b,{to:"/login",children:"Login"})]}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter new password",autoComplete:"true",value:c,onChange:function(e){return o(e.target.value)}})}),Object(w.jsx)("div",{className:R.a.formGroup,children:Object(w.jsx)("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm new password",autoComplete:"true",value:j,onChange:function(e){return d(e.target.value)}})}),Object(w.jsx)("button",{type:"submit",className:R.a.btn,children:"Reset Password"})]})})})},re=function(e){var t=e.match;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("main",{className:"main auth",children:Object(w.jsx)(te,{resetToken:t.params.resetToken})})})},ae=function(e){var t=e.component,r=Object(i.a)(e,["component"]);return Object(w.jsx)(u.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return b("authToken")?Object(w.jsx)(t,Object(o.a)({},e)):Object(w.jsx)(u.a,{to:"/login"})}}))},ne=function(){return Object(a.useEffect)((function(){b("authToken")?f.setIsAuth(!0):f.setIsAuth(!1)}),[]),Object(w.jsx)(l.a,{children:Object(w.jsxs)("div",{className:"app",children:[Object(w.jsx)(y,{}),Object(w.jsxs)(u.d,{children:[Object(w.jsx)(ae,{path:"/",component:q,exact:!0}),Object(w.jsx)(u.b,{path:"/login",component:J,exact:!0}),Object(w.jsx)(u.b,{path:"/register",component:X,exact:!0}),Object(w.jsx)(u.b,{path:"/forgot-password",component:V,exact:!0}),Object(w.jsx)(u.b,{path:"/reset-password/:resetToken",component:re})]}),Object(w.jsx)(C,{})]})})},se=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,51)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),a(e),n(e),s(e),c(e)}))};c.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(ne,{})}),document.getElementById("root")),se()},9:function(e,t,r){e.exports={header:"Header_header__3LI77",headerInner:"Header_headerInner__1Cz3F",headerLogo:"Header_headerLogo__1dXyQ",headerLink:"Header_headerLink__dbNqC",headerUser:"Header_headerUser__2XY_B",headerUserPhoto:"Header_headerUserPhoto__3vjOV",headerUserName:"Header_headerUserName__3Ky9Y",headerUserNameActive:"Header_headerUserNameActive__1TatK",headerUserActions:"Header_headerUserActions__l8BW5",headerUserActionsActive:"Header_headerUserActionsActive__3XYKo",headerUserItem:"Header_headerUserItem__nLuii"}}},[[50,1,2]]]);
//# sourceMappingURL=main.13aeaaa3.chunk.js.map